@page "/pricing"
@rendermode InteractiveServer
@inject NavigationService Navigation
@inject ILocalizationService Localization

<PageTitle>@Localization.GetString(ResourceKeys.Pricing_Title) - WaHub</PageTitle>

<div class="pricing-container">
    <div class="pricing-content">
        <div class="pricing-header">
            <h1>@Localization.GetString(ResourceKeys.Pricing_Title)</h1>
            <p>@Localization.GetString(ResourceKeys.Pricing_Description)</p>
            <div class="billing-toggle">
                <span class="toggle-label @(isAnnual ? "" : "active")">@Localization.GetString(ResourceKeys.Pricing_Monthly)</span>
                <label class="toggle-switch">
                    <input type="checkbox" @bind="isAnnual" />
                    <span class="slider"></span>
                </label>
                <span class="toggle-label @(isAnnual ? "active" : "")">@Localization.GetString(ResourceKeys.Pricing_Annual) <span class="discount">@Localization.GetString(ResourceKeys.Pricing_AnnualDiscount)</span></span>
            </div>
        </div>
        <div class="pricing-grid">
            <!-- Plan Gratuito -->
            <div class="pricing-card">
                <div class="plan-header">
                    <h3>@Localization.GetString(ResourceKeys.Pricing_FreePlan)</h3>
                    <div class="price">
                        <span class="currency">$</span>
                        <span class="amount">0</span>
                        <span class="period">/mes</span>
                    </div>
                    <p class="plan-description">@Localization.GetString(ResourceKeys.Pricing_FreePlan_Description)</p>
                </div>
                <ul class="features-list">
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Messages), "1,000")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Instances), "1")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Api), "básica")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Webhooks), "")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Dashboard), "básico")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Support), "por email")</li>
                    <li>❌ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Analytics), "avanzadas")</li>
                    <li>❌ @Localization.GetString(ResourceKeys.Pricing_Feature_UnlimitedInstances)</li>
                </ul>
                <button class="btn btn-outline" @onclick="@(() => Navigation.Push("/Account/register"))">
                    @Localization.GetString(ResourceKeys.Pricing_Button_Free)
                </button>
            </div>
            <!-- Plan Profesional -->
            <div class="pricing-card featured">
                <div class="featured-badge">@Localization.GetString(ResourceKeys.Pricing_MostPopular)</div>
                <div class="plan-header">
                    <h3>@Localization.GetString(ResourceKeys.Pricing_ProPlan)</h3>
                    <div class="price">
                        <span class="currency">$</span>
                        <span class="amount">@(isAnnual ? "39" : "49")</span>
                        <span class="period">/mes</span>
                    </div>
                    @if (isAnnual)
                    {
                        <div class="original-price">$49/@Localization.GetString(ResourceKeys.Pricing_Monthly)</div>
                    }
                    <p class="plan-description">@Localization.GetString(ResourceKeys.Pricing_ProPlan_Description)</p>
                </div>
                <ul class="features-list">
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Messages), "10,000")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Instances), "5")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Api), "completa")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Webhooks), "avanzados")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Dashboard), "completo")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Analytics), "en tiempo real")</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Support), "prioritario")</li>
                    <li>✅ @Localization.GetString(ResourceKeys.Pricing_Feature_Integrations)</li>
                </ul>
                <button class="btn btn-primary" @onclick="@(() => Navigation.Push("/Account/register"))">
                    @Localization.GetString(ResourceKeys.Pricing_Button_Trial)
                </button>
            </div>
            <!-- Plan Empresarial -->
            <div class="pricing-card">
                <div class="plan-header">
                    <h3>@Localization.GetString(ResourceKeys.Pricing_BusinessPlan)</h3>
                    <div class="price">
                        <span class="currency">$</span>
                        <span class="amount">@(isAnnual ? "199" : "249")</span>
                        <span class="period">/mes</span>
                    </div>
                    @if (isAnnual)
                    {
                        <div class="original-price">$249/@Localization.GetString(ResourceKeys.Pricing_Monthly)</div>
                    }
                    <p class="plan-description">@Localization.GetString(ResourceKeys.Pricing_BusinessPlan_Description)</p>
                </div>
                <ul class="features-list">
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Messages), "100,000")</li>
                    <li>✅ @Localization.GetString(ResourceKeys.Pricing_Feature_UnlimitedInstances)</li>
                    <li>✅ @Localization.GetString(ResourceKeys.Pricing_Feature_EnterpriseApi)</li>
                    <li>✅ @Localization.GetString(ResourceKeys.Pricing_Feature_CustomWebhooks)</li>
                    <li>✅ @Localization.GetString(ResourceKeys.Pricing_Feature_AdvancedDashboard)</li>
                    <li>✅ @string.Format(Localization.GetString(ResourceKeys.Pricing_Feature_Analytics), "completas")</li>
                    <li>✅ @Localization.GetString(ResourceKeys.Pricing_Feature_24_7Support)</li>
                    <li>✅ @Localization.GetString(ResourceKeys.Pricing_Feature_AccountManager)</li>
                </ul>
                <button class="btn btn-outline" @onclick="@(() => Navigation.Push("/contact"))">
                    @Localization.GetString(ResourceKeys.Pricing_Button_Contact)
                </button>
            </div>
        </div>
        <div class="pricing-faq">
            <h2>@Localization.GetString(ResourceKeys.Pricing_FAQ_Title)</h2>
            <div class="faq-grid">
                <div class="faq-item">
                    <h4>@Localization.GetString(ResourceKeys.Pricing_FAQ_ChangePlan_Q)</h4>
                    <p>@Localization.GetString(ResourceKeys.Pricing_FAQ_ChangePlan_A)</p>
                </div>
                <div class="faq-item">
                    <h4>@Localization.GetString(ResourceKeys.Pricing_FAQ_Limit_Q)</h4>
                    <p>@Localization.GetString(ResourceKeys.Pricing_FAQ_Limit_A)</p>
                </div>
                <div class="faq-item">
                    <h4>@Localization.GetString(ResourceKeys.Pricing_FAQ_NGO_Q)</h4>
                    <p>@Localization.GetString(ResourceKeys.Pricing_FAQ_NGO_A)</p>
                </div>
                <div class="faq-item">
                    <h4>@Localization.GetString(ResourceKeys.Pricing_FAQ_Setup_Q)</h4>
                    <p>@Localization.GetString(ResourceKeys.Pricing_FAQ_Setup_A)</p>
                </div>
            </div>
        </div>
        <div class="pricing-cta">
            <h2>@Localization.GetString(ResourceKeys.Pricing_CTA_Title)</h2>
            <p>@Localization.GetString(ResourceKeys.Pricing_CTA_Description)</p>
            <button class="btn btn-primary btn-large" @onclick="@(() => Navigation.Push("/Account/register"))">
                @Localization.GetString(ResourceKeys.Pricing_CTA_Button)
            </button>
        </div>
    </div>
</div>

@code {
    private bool isAnnual = false;
}
