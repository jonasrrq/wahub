@page "/docs"

@inject NavigationService Navigation
@inject ILocalizationService Localization

<PageTitle>@Localization.GetString(ResourceKeys.ApiDocs_Title) - WaHub</PageTitle>



<div class="docs-container">
    <div class="docs-content">
        <aside class="docs-sidebar">
            <div class="sidebar-header">
                <h3>@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_Title)</h3>
            </div>
            
            <nav class="docs-nav">
                <div class="nav-section">
                    <h4>@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_GettingStarted_Title)</h4>
                    <ul>
                        <li><a href="/docs#getting-started" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("getting-started"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_GettingStarted_Intro)</a></li>
                        <li><a href="/docs#authentication" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("authentication"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_GettingStarted_Auth)</a></li>
                        <li><a href="/docs#quick-start" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("quick-start"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_GettingStarted_QuickStart)</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h4>@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_APIReference_Title)</h4>
                    <ul>
                        <li><a href="/docs#send-message" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("send-message"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_APIReference_SendMessages)</a></li>
                        <li><a href="/docs#webhooks" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("webhooks"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_APIReference_Webhooks)</a></li>
                        <li><a href="/docs#instances" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("instances"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_APIReference_Instances)</a></li>
                        <li><a href="/docs#contacts" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("contacts"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_APIReference_Contacts)</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h4>@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_SDKs_Title)</h4>
                    <ul>
                        <li><a href="/docs#javascript-sdk" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("javascript-sdk"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_SDKs_JS)</a></li>
                        <li><a href="/docs#python-sdk" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("python-sdk"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_SDKs_Python)</a></li>
                        <li><a href="/docs#php-sdk" @onclick:preventDefault="true" @onclick="@(() => ScrollToSection("php-sdk"))">@Localization.GetString(ResourceKeys.ApiDocs_Sidebar_SDKs_PHP)</a></li>
                    </ul>
                </div>
            </nav>
        </aside>
        
        <main class="docs-main">
            <section id="getting-started" class="docs-section">
                <h1>@Localization.GetString(ResourceKeys.ApiDocs_Intro_Title)</h1>
                <p>@Localization.GetString(ResourceKeys.ApiDocs_Intro_Description)</p>
                
                <div class="info-box">
                    <h3>@Localization.GetString(ResourceKeys.ApiDocs_Intro_InfoBox_Title)</h3>
                    <p>@Localization.GetString(ResourceKeys.ApiDocs_Intro_InfoBox_Content)</p>
                </div>
                
                <h2>@Localization.GetString(ResourceKeys.ApiDocs_BaseURL_Title)</h2>
                <div class="code-block">
                    <code>https://api.wahub.dev/v1</code>
                </div>
                
                <h2>@Localization.GetString(ResourceKeys.ApiDocs_ResponseFormat_Title)</h2>
                <p>@Localization.GetString(ResourceKeys.ApiDocs_ResponseFormat_Description)</p>
                <div class="code-block">
<pre><code>{
  "success": true,
  "data": { },
  "message": "@Localization.GetString(ResourceKeys.ApiDocs_ResponseFormat_SuccessMessage)",
  "timestamp": "2024-01-15T10:30:00Z"
}</code></pre>
                </div>
            </section>
            
            <section id="authentication" class="docs-section">
                <h1>@Localization.GetString(ResourceKeys.ApiDocs_Auth_Title)</h1>
                <p>@Localization.GetString(ResourceKeys.ApiDocs_Auth_Description)</p>
                
                <div class="warning-box">
                    <h3>@Localization.GetString(ResourceKeys.ApiDocs_Auth_WarningBox_Title)</h3>
                    <p>@Localization.GetString(ResourceKeys.ApiDocs_Auth_WarningBox_Content)</p>
                </div>
                
                <h2>@Localization.GetString(ResourceKeys.ApiDocs_Auth_Example_Title)</h2>
                <div class="code-block">
<pre><code>curl -X POST https://api.wahub.dev/v1/messages \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json"</code></pre>
                </div>
            </section>
            
            <section id="quick-start" class="docs-section">
                <h1>@Localization.GetString(ResourceKeys.ApiDocs_QuickStart_Title)</h1>
                <p>@Localization.GetString(ResourceKeys.ApiDocs_QuickStart_Description)</p>
                
                <div class="step-by-step">
                    <div class="step">
                        <h3>@Localization.GetString(ResourceKeys.ApiDocs_QuickStart_Step1_Title)</h3>
                        <p>@Localization.GetString(ResourceKeys.ApiDocs_QuickStart_Step1_Content)</p>
                    </div>
                    
                    <div class="step">
                        <h3>@Localization.GetString(ResourceKeys.ApiDocs_QuickStart_Step2_Title)</h3>
                        <p>@Localization.GetString(ResourceKeys.ApiDocs_QuickStart_Step2_Content)</p>
                    </div>
                    
                    <div class="step">
                        <h3>@Localization.GetString(ResourceKeys.ApiDocs_QuickStart_Step3_Title)</h3>
                        <div class="code-block">
<pre><code>const response = await fetch(\'https://api.wahub.dev/v1/messages\', {
  method: \'POST\',
  headers: {
    \'Authorization\': \'Bearer YOUR_API_KEY\',
    \'Content-Type\': \'application/json\'
  },
  body: JSON.stringify({
    to: \'5491234567890\',
    type: \'text\',
    text: \'@Localization.GetString(ResourceKeys.ApiDocs_QuickStart_Step3_Message)\'
  })
});</code></pre>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="send-message" class="docs-section">
                <h1>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Title)</h1>
                <p>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Description)</p>
                
                <h2>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_PostEndpoint)</h2>
                <p>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_PostEndpoint_Description)</p>
                
                <h3>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_Title)</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_Param)</th>
                            <th>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_Type)</th>
                            <th>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_Required)</th>
                            <th>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_Description)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>to</code></td>
                            <td>string</td>
                            <td>Sí</td>
                            <td>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_To_Desc)</td>
                        </tr>
                        <tr>
                            <td><code>type</code></td>
                            <td>string</td>
                            <td>Sí</td>
                            <td>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_Type_Desc)</td>
                        </tr>
                        <tr>
                            <td><code>text</code></td>
                            <td>string</td>
                            <td>No</td>
                            <td>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_Text_Desc)</td>
                        </tr>
                        <tr>
                            <td><code>media_url</code></td>
                            <td>string</td>
                            <td>No</td>
                            <td>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_Parameters_MediaUrl_Desc)</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_ExampleText_Title)</h3>
                <div class="code-block">
<pre><code>{
  "to": "5491234567890",
  "type": "text",
  "text": "@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Example_Message)"
}</code></pre>
                </div>
                
                <h3>@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_ExampleImage_Title)</h3>
                <div class="code-block">
<pre><code>{
  "to": "5491234567890",
  "type": "image",
  "media_url": "https://example.com/image.jpg",
  "caption": "@Localization.GetString(ResourceKeys.ApiDocs_SendMessages_ExampleImage_Caption)"
}</code></pre>
                </div>
            </section>
            
            <section id="webhooks" class="docs-section">
                <h1>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Title)</h1>
                <p>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Description)</p>
                
                <h2>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Config_Title)</h2>
                <p>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Config_Description)</p>
                
                <h2>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Events_Title)</h2>
                <ul>
                    <li><strong>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Event_MessageReceived_Name)</strong> @Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Event_MessageReceived_Desc)</li>
                    <li><strong>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Event_MessageSent_Name)</strong> @Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Event_MessageSent_Desc)</li>
                    <li><strong>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Event_MessageDelivered_Name)</strong> @Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Event_MessageDelivered_Desc)</li>
                    <li><strong>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Event_MessageRead_Name)</strong> @Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Event_MessageRead_Desc)</li>
                </ul>
                
                <h2>@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Example_Title)</h2>
                <div class="code-block">
<pre><code>{
  "event": "message_received",
  "data": {
    "id": "msg_123456",
    "from": "5491234567890",
    "timestamp": "2024-01-15T10:30:00Z",
    "type": "text",
    "text": "@Localization.GetString(ResourceKeys.ApiDocs_Webhooks_Example_Message)"
  }
}</code></pre>
                </div>
            </section>
        </main>
    </div>
</div>

@code {
    private void ScrollToSection(string sectionId)
    {
        // En una implementación real, usarías JavaScript para hacer scroll
        // Por ahora solo simularemos la navegación
    }
}
